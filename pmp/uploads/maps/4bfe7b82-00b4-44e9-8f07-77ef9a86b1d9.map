{"version":3,"sources":["../../node_modules/mini-sentry-sdk/dist/index.esm.js"],"names":["ErrorType","ErrorType2","DataType","DataType2","Monitor","config","_a","_b","_c","error","category","message","level","data","captureType","breadcrumb","now","behaviorData","enhancedError","fileAnalysis","errorWithBreadcrumbs","jsFilename","stack","result","businessCall","lines","line","jsMatch","filename","scripts","s","src","vendorError","businessError","performanceData","dataType","convertedData","payload","apiUrl","jsonString","tags","locationInfo","errorInfo","name","value","event","stackLines","match","url","lineno","colno","urlParts","parseError","cleaned","fieldCount","key","valueStr","userTags","defaultTags","merged","criticalFields","maxLength","connection","baseFields","errorData","unified","httpError","resourceError","fallbackData","failures","controller","timeoutId","response","fromSendBeacon","currentFailures","newFailures","blob","type","lastSuccess","route","stayTimeData","originalPushState","originalReplaceState","unused","newRoute","oldRoute","target","element","originalOpen","originalSend","method","async","username","password","body","monitorData","monitor","duration","textContent","images","img","canvases","canvas","svgs","svg","list","entry","originalFetch","args","startTime","options","fcpObserver","entries","lcpStableCount","lastLcpValue","LCP_STABLE_THRESHOLD","lcpEntry","currentLcpValue","finalizeLcp","userInteracted","handleUserInteraction","navigation","timing","fcpValue","lcpValue","ttfbValue","navigationEntries","fcpEntry","lcpEntries","latestLcp","elementInfo","form","inputTimer","scrollTimer","scrollTop","scrollHeight","clientHeight","scrollPercent","b","textBlocks","allElements","elementSizes","el","rect","item","a","latest","SourceMapUploader","request","retries","lastError","attempt","delay","apiKey","timeout","fileHashes","file","hash","formData","buildVersion","errorText","content","parsed","compressed","sourceMapFilename","pathParts","hashBuffer","year","month","day","hours","minutes","seconds","ms","resolve","NodeSourceMapUploader","https","http","URL","FormData2","isHttps","reject","req","res","chunk","jsxRuntime","reactJsxRuntime_production","hasRequiredReactJsxRuntime_production","requireReactJsxRuntime_production","REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","jsxProd","maybeKey","propName","hasRequiredJsxRuntime","requireJsxRuntime","jsxRuntimeExports","ErrorBoundary","Component","props","onError","projectId","MiniSentrySDK","UploaderClass","SDK","VERSION","createMonitor","createUploader"],"mappings":"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","sourcesContent":["import require$$0, { Component } from \"react\";\nvar ErrorType = /* @__PURE__ */ ((ErrorType2) => {\n  ErrorType2[\"JS_ERROR\"] = \"js_error\";\n  ErrorType2[\"PROMISE_ERROR\"] = \"promise_error\";\n  ErrorType2[\"RESOURCE_ERROR\"] = \"resource_error\";\n  ErrorType2[\"HTTP_ERROR\"] = \"http_error\";\n  ErrorType2[\"REACT_ERROR\"] = \"react_error\";\n  return ErrorType2;\n})(ErrorType || {});\nvar DataType = /* @__PURE__ */ ((DataType2) => {\n  DataType2[\"ERROR\"] = \"error\";\n  DataType2[\"PERFORMANCE\"] = \"performance\";\n  DataType2[\"BEHAVIOR\"] = \"behavior\";\n  return DataType2;\n})(DataType || {});\nclass Monitor {\n  constructor(config) {\n    this.initialized = false;\n    this.globalBreadcrumbs = [];\n    this.errorBreadcrumbs = [];\n    this.behaviorBreadcrumbs = [];\n    this.BREADCRUMB_LIMITS = {\n      global: 100,\n      // 全局最多保留100条\n      error: 15,\n      // 错误专用最多15条\n      behavior: 50\n      // 行为专用最多50条（定期清空）\n    };\n    this.failureCount = /* @__PURE__ */ new Map();\n    this.MAX_FAILURES = 5;\n    this.FAILURE_RESET_TIME = 3e5;\n    this.lastSuccessTime = /* @__PURE__ */ new Map();\n    this.disabledDataTypes = /* @__PURE__ */ new Set();\n    this.pageStartTime = Date.now();\n    this.totalVisibleTime = 0;\n    this.visibleStartTime = Date.now();\n    this.isPageVisible = !document.hidden;\n    this.currentRoute = location.pathname + location.search + location.hash;\n    this.config = {\n      debug: false,\n      sampleRate: 1,\n      maxBreadcrumbs: 10,\n      enabledModules: {\n        error: true,\n        performance: true,\n        behavior: true\n      },\n      ...config\n    };\n    this.sessionId = this.generateSessionId();\n    this.failureCount.set(\"error\", 0);\n    this.failureCount.set(\"performance\", 0);\n    this.failureCount.set(\"behavior\", 0);\n    if (this.config.maxBreadcrumbs) {\n      this.BREADCRUMB_LIMITS.error = this.config.maxBreadcrumbs;\n    }\n  }\n  async init() {\n    if (this.initialized) {\n      console.warn(\"Monitor has already been initialized\");\n      return;\n    }\n    try {\n      if (this.config.enabledModules?.error) {\n        this.initErrorMonitoring();\n      }\n      if (this.config.enabledModules?.performance) {\n        this.initPerformanceMonitoring();\n      }\n      if (this.config.enabledModules?.behavior) {\n        this.initBehaviorMonitoring();\n      }\n      this.initPageStayTimeTracking();\n      this.initSPARouteMonitoring();\n      this.startBatchReporting();\n      this.initialized = true;\n      if (this.config.debug) {\n        console.log(\"[MiniSentry] Monitor initialized successfully\");\n      }\n    } catch (error) {\n      console.error(\"[MiniSentry] Failed to initialize monitor:\", error);\n      throw error;\n    }\n  }\n  // 保留：面包屑分类管理\n  addBreadcrumb(category, message, level = \"info\", data, captureType = \"manual\") {\n    const breadcrumb = {\n      category,\n      message,\n      level,\n      timestamp: Date.now(),\n      data: data ? this.optimizeDataSize(data) : void 0,\n      captureType\n    };\n    this.addToGlobalBreadcrumbs(breadcrumb);\n    this.addToErrorBreadcrumbs(breadcrumb);\n    this.addToBehaviorBreadcrumbs(breadcrumb);\n  }\n  addToGlobalBreadcrumbs(breadcrumb) {\n    this.globalBreadcrumbs.push(breadcrumb);\n    if (this.globalBreadcrumbs.length > this.BREADCRUMB_LIMITS.global) {\n      this.globalBreadcrumbs = this.globalBreadcrumbs.slice(-this.BREADCRUMB_LIMITS.global);\n    }\n  }\n  addToErrorBreadcrumbs(breadcrumb) {\n    this.errorBreadcrumbs.push(breadcrumb);\n    if (this.errorBreadcrumbs.length > this.BREADCRUMB_LIMITS.error) {\n      this.errorBreadcrumbs = this.errorBreadcrumbs.slice(-this.BREADCRUMB_LIMITS.error);\n    }\n  }\n  addToBehaviorBreadcrumbs(breadcrumb) {\n    this.behaviorBreadcrumbs.push(breadcrumb);\n    if (this.behaviorBreadcrumbs.length > this.BREADCRUMB_LIMITS.behavior) {\n      this.behaviorBreadcrumbs = this.behaviorBreadcrumbs.slice(-this.BREADCRUMB_LIMITS.behavior);\n    }\n  }\n  // 简化：行为数据收集，直接发送\n  collectAndSendBehaviorData() {\n    if (this.behaviorBreadcrumbs.length === 0) {\n      return;\n    }\n    const now = Date.now();\n    if (this.isPageVisible) {\n      this.totalVisibleTime += now - this.visibleStartTime;\n      this.visibleStartTime = now;\n    }\n    const behaviorData = {\n      projectId: this.config.projectId,\n      sessionId: this.sessionId,\n      url: window.location.href,\n      timestamp: now,\n      breadcrumbs: [...this.behaviorBreadcrumbs],\n      pageInfo: {\n        title: document.title,\n        stayTime: this.totalVisibleTime\n      },\n      userAgent: navigator.userAgent\n    };\n    this.sendData(\"behavior\", this.convertToUnifiedFormat(behaviorData));\n    this.behaviorBreadcrumbs = [];\n  }\n  // 简化：错误上报，直接发送\n  reportError(error) {\n    if (!this.shouldSample()) return;\n    const enhancedError = { ...error };\n    if (error.jsFilename) {\n      const fileAnalysis = this.analyzeErrorFile(error.jsFilename, error.stack);\n      enhancedError.tags = {\n        ...enhancedError.tags,\n        ...fileAnalysis.tags\n      };\n    }\n    const errorWithBreadcrumbs = {\n      ...enhancedError,\n      breadcrumbs: [...this.errorBreadcrumbs]\n    };\n    this.sendData(\"error\", this.convertToUnifiedFormat(errorWithBreadcrumbs));\n  }\n  // 分析错误文件类型\n  analyzeErrorFile(jsFilename, stack) {\n    const result = {\n      fileType: \"unknown\",\n      tags: {},\n      analysis: \"\"\n    };\n    if (jsFilename.includes(\"vendor\")) {\n      result.fileType = \"vendor\";\n      result.analysis = \"错误发生在第三方依赖包中\";\n      result.tags = {\n        errorLocation: \"vendor_bundle\",\n        sourceType: \"third_party\",\n        debugHint: \"检查对第三方库的调用方式\",\n        possibleMismapping: true\n      };\n      const businessCall = this.findBusinessCodeCall(stack);\n      if (businessCall) {\n        result.tags.actualBusinessFile = businessCall;\n        result.tags.suggestion = `真正的错误可能在 ${businessCall} 中`;\n      }\n    } else if (jsFilename.includes(\"chunk\")) {\n      result.fileType = \"chunk\";\n      result.analysis = \"错误发生在代码分片中\";\n      result.tags = {\n        errorLocation: \"chunk_bundle\",\n        sourceType: \"chunked_code\"\n      };\n    } else {\n      result.fileType = \"business\";\n      result.analysis = \"错误发生在业务代码中\";\n      result.tags = {\n        errorLocation: \"business_code\",\n        sourceType: \"application\"\n      };\n    }\n    return result;\n  }\n  // 在堆栈中寻找业务代码调用\n  findBusinessCodeCall(stack) {\n    if (!stack) return void 0;\n    const lines = stack.split(\"\\n\");\n    for (const line of lines) {\n      if (line.includes(\"vendor\") || line.includes(\"node_modules\")) {\n        continue;\n      }\n      const jsMatch = line.match(/([^\\/\\s()]+\\.js)/);\n      if (jsMatch) {\n        const filename = jsMatch[1];\n        if (filename.match(/^(main|app|index|components?|pages?|views?)/)) {\n          return filename;\n        }\n      }\n    }\n    for (const line of lines) {\n      if (line.includes(\".js\") && !line.includes(\"vendor\") && !line.includes(\"node_modules\")) {\n        const jsMatch = line.match(/([^\\/\\s()]+\\.js)/);\n        if (jsMatch) {\n          return jsMatch[1];\n        }\n      }\n    }\n    return void 0;\n  }\n  // 调试方法：检查错误映射准确性\n  debugErrorMapping() {\n    if (!this.config.debug) {\n      console.warn(\"[MiniSentry] 请开启debug模式\");\n      return;\n    }\n    const scripts = Array.from(document.querySelectorAll(\"script[src]\"));\n    console.log(\"当前页面脚本:\", scripts.map((s) => {\n      const src = s.src;\n      const filename = src.split(\"/\").pop() || \"\";\n      return {\n        文件名: filename,\n        类型: filename.includes(\"vendor\") ? \"vendor\" : filename.includes(\"chunk\") ? \"chunk\" : \"business\",\n        URL: src\n      };\n    }));\n    console.log(\"模拟错误堆栈解析:\");\n    const vendorError = new Error(\"模拟vendor错误\");\n    vendorError.stack = `Error: 模拟vendor错误\n    at Object.someFunction (http://localhost:4173/assets/vendor-abc123.js:1:2345)\n    at myBusinessFunction (http://localhost:4173/assets/index-def456.js:10:20)\n    at HTMLButtonElement.<anonymous> (http://localhost:4173/assets/index-def456.js:15:30)`;\n    console.log(\"Vendor错误解析:\", this.parseErrorStack(vendorError));\n    const businessError = new Error(\"模拟业务错误\");\n    businessError.stack = `Error: 模拟业务错误\n    at myFunction (http://localhost:4173/assets/index-def456.js:20:10)\n    at onClick (http://localhost:4173/assets/index-def456.js:25:5)`;\n    console.log(\"业务代码错误解析:\", this.parseErrorStack(businessError));\n  }\n  // 简化：性能数据收集，直接发送\n  collectPerformanceData() {\n    const performanceData = {\n      projectId: this.config.projectId,\n      url: window.location.href,\n      timestamp: Date.now(),\n      metrics: {\n        navigation: this.getNavigationTiming(),\n        vitals: this.getWebVitals()\n      },\n      userAgent: navigator.userAgent\n    };\n    this.sendData(\"performance\", this.convertToUnifiedFormat(performanceData));\n  }\n  // 新增：统一的数据发送方法\n  sendData(dataType, convertedData) {\n    if (!this.shouldSendDataType(dataType)) {\n      if (this.config.debug) {\n        console.warn(`[MiniSentry] ${dataType} 数据类型已被禁用，跳过发送`);\n      }\n      return;\n    }\n    if (!this.config.apiUrl) {\n      if (this.config.debug) {\n        console.warn(\"[MiniSentry] API URL 未配置，跳过发送\");\n      }\n      return;\n    }\n    const payload = [convertedData.data];\n    const apiUrl = this.buildApiUrl(dataType);\n    const jsonString = JSON.stringify(payload);\n    if (document.visibilityState === \"hidden\" || document.hidden) {\n      this.sendWithBeacon(apiUrl, jsonString, dataType);\n    } else {\n      this.sendWithFetch(apiUrl, jsonString, dataType);\n    }\n  }\n  // 简化：定时上报机制\n  startBatchReporting() {\n    this.reportTimer = window.setInterval(() => {\n      if (this.isAllDataTypesDisabled()) {\n        if (this.config.debug) {\n          console.log(\"[MiniSentry] 所有数据类型都已被禁用，停止定时器\");\n        }\n        if (this.reportTimer) {\n          clearInterval(this.reportTimer);\n          this.reportTimer = void 0;\n        }\n        return;\n      }\n      this.resetFailureCountIfNeeded();\n      this.collectAndSendBehaviorData();\n    }, 1e4);\n    window.addEventListener(\"beforeunload\", () => {\n      this.handlePageUnload();\n    });\n    document.addEventListener(\"visibilitychange\", () => {\n      if (document.hidden) {\n        this.collectAndSendBehaviorData();\n      }\n    });\n  }\n  handlePageUnload() {\n    this.recordCurrentPageStayTime(this.currentRoute);\n    this.collectAndSendBehaviorData();\n  }\n  // 保留：手动上报方法\n  captureError(error, tags) {\n    if (!this.initialized) {\n      console.warn(\"[MiniSentry] Monitor not initialized\");\n      return;\n    }\n    const locationInfo = this.parseErrorStack(error);\n    const errorInfo = {\n      type: ErrorType.JS_ERROR,\n      message: error.message,\n      stack: error.stack,\n      timestamp: Date.now(),\n      url: window.location.href,\n      projectId: this.config.projectId,\n      userAgent: navigator.userAgent,\n      breadcrumbs: [...this.errorBreadcrumbs],\n      captureType: \"manual\",\n      tags: this.mergeTags(tags),\n      filename: locationInfo.filename,\n      jsFilename: locationInfo.jsFilename,\n      lineno: locationInfo.lineno,\n      colno: locationInfo.colno\n    };\n    this.reportError(errorInfo);\n  }\n  trackEvent(category, message, data) {\n    if (!this.initialized) {\n      console.warn(\"[MiniSentry] Monitor not initialized\");\n      return;\n    }\n    this.addBreadcrumb(category, message, \"info\", data, \"manual\");\n  }\n  trackMetric(name, value, tags) {\n    if (!this.initialized) {\n      console.warn(\"[MiniSentry] Monitor not initialized\");\n      return;\n    }\n    this.addBreadcrumb(\"performance\", `Custom metric: ${name} = ${value}`, \"info\", {\n      metricName: name,\n      metricValue: value,\n      ...tags\n    }, \"manual\");\n  }\n  trackBusiness(event, data) {\n    if (!this.initialized) {\n      console.warn(\"[MiniSentry] Monitor not initialized\");\n      return;\n    }\n    this.addBreadcrumb(\"user\", `Business event: ${event}`, \"info\", {\n      eventType: \"business\",\n      eventName: event,\n      ...data\n    }, \"manual\");\n  }\n  // 保留：工具方法\n  parseErrorStack(error) {\n    if (!error.stack) {\n      return { stack: void 0 };\n    }\n    try {\n      const stackLines = error.stack.split(\"\\n\");\n      for (const line of stackLines) {\n        const match = line.match(/(https?:\\/\\/[^)\\s]+\\/[^)\\s]*\\.([a-zA-Z0-9]+\\.)?js):(\\d+):(\\d+)/);\n        if (match) {\n          const [, url, , lineno, colno] = match;\n          const urlParts = url.split(\"/\");\n          const filename = urlParts[urlParts.length - 1];\n          return {\n            filename: url,\n            jsFilename: filename,\n            lineno: parseInt(lineno),\n            colno: parseInt(colno),\n            stack: error.stack\n          };\n        }\n      }\n    } catch (parseError) {\n      if (this.config.debug) {\n        console.warn(\"[MiniSentry] Failed to parse error stack:\", parseError);\n      }\n    }\n    return { stack: error.stack };\n  }\n  cleanTags(tags) {\n    if (!tags) return void 0;\n    const cleaned = {};\n    let fieldCount = 0;\n    for (const [key, value] of Object.entries(tags)) {\n      if (fieldCount >= 20 || key.length > 50) continue;\n      if (value != null) {\n        const valueStr = typeof value === \"object\" ? JSON.stringify(value) : String(value);\n        cleaned[key] = valueStr.length > 500 ? valueStr.slice(0, 500) + \"...\" : value;\n        fieldCount++;\n      }\n    }\n    return fieldCount > 0 ? cleaned : void 0;\n  }\n  mergeTags(userTags) {\n    const defaultTags = this.config.defaultTags;\n    if (!defaultTags && !userTags) return void 0;\n    const merged = {\n      ...defaultTags || {},\n      ...userTags || {}\n    };\n    return this.cleanTags(merged);\n  }\n  optimizeDataSize(data) {\n    const result = {};\n    const criticalFields = [\n      \"from\",\n      \"to\",\n      \"url\",\n      \"method\",\n      \"status\",\n      \"duration\",\n      \"tagName\",\n      \"id\",\n      \"metricName\",\n      \"metricValue\",\n      \"scrollPercent\",\n      \"route\",\n      \"title\",\n      \"referrer\",\n      \"filename\",\n      \"jsFilename\",\n      \"lineno\",\n      \"colno\"\n    ];\n    for (const [key, value] of Object.entries(data)) {\n      const maxLength = criticalFields.includes(key) ? 200 : 100;\n      if (typeof value === \"string\" && value.length > maxLength) {\n        result[key] = value.slice(0, maxLength) + \"...\";\n      } else {\n        result[key] = value;\n      }\n    }\n    return result;\n  }\n  // 新增：获取网络类型\n  getNetworkType() {\n    try {\n      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n      if (connection && connection.effectiveType) {\n        return connection.effectiveType;\n      }\n      if (navigator.onLine) {\n        return \"unknown\";\n      } else {\n        return \"offline\";\n      }\n    } catch (error) {\n      if (this.config.debug) {\n        console.warn(\"[MiniSentry] 获取网络类型失败:\", error);\n      }\n      return \"unknown\";\n    }\n  }\n  convertToUnifiedFormat(data) {\n    const baseFields = {\n      projectId: data.projectId,\n      timestamp: data.timestamp,\n      sessionId: this.sessionId,\n      url: data.url,\n      userAgent: data.userAgent,\n      network: this.getNetworkType()\n    };\n    if (\"type\" in data && \"message\" in data && \"breadcrumbs\" in data) {\n      const errorData = data;\n      const unified = {\n        ...baseFields,\n        captureType: errorData.captureType,\n        errorType: errorData.type,\n        message: errorData.message,\n        stack: errorData.stack,\n        breadcrumbs: errorData.breadcrumbs,\n        tags: errorData.tags,\n        filename: errorData.filename,\n        jsFilename: errorData.jsFilename,\n        lineno: errorData.lineno,\n        colno: errorData.colno\n      };\n      if (errorData.type === ErrorType.HTTP_ERROR) {\n        const httpError = errorData;\n        unified.request = httpError.request;\n        unified.response = httpError.response;\n        unified.duration = httpError.duration;\n      }\n      if (errorData.type === ErrorType.RESOURCE_ERROR) {\n        const resourceError = errorData;\n        unified.resourceType = resourceError.resourceType;\n        unified.resourceUrl = resourceError.resourceUrl;\n        unified.elementInfo = resourceError.elementInfo;\n      }\n      return { type: \"error\", data: unified };\n    }\n    if (\"metrics\" in data) {\n      const perfData = data;\n      return {\n        type: \"performance\",\n        data: {\n          ...baseFields,\n          captureType: \"auto\",\n          metrics: perfData.metrics\n        }\n      };\n    }\n    if (\"pageInfo\" in data && \"sessionId\" in data) {\n      const behaviorData = data;\n      return {\n        type: \"behavior\",\n        data: {\n          ...baseFields,\n          captureType: \"auto\",\n          breadcrumbs: behaviorData.breadcrumbs,\n          pageInfo: behaviorData.pageInfo\n        }\n      };\n    }\n    const fallbackData = data;\n    return {\n      type: \"error\",\n      data: {\n        projectId: fallbackData.projectId,\n        timestamp: fallbackData.timestamp,\n        sessionId: this.sessionId,\n        url: fallbackData.url,\n        userAgent: fallbackData.userAgent,\n        captureType: \"auto\"\n      }\n    };\n  }\n  shouldSendDataType(dataType) {\n    if (this.disabledDataTypes.has(dataType)) {\n      return false;\n    }\n    const failures = this.failureCount.get(dataType) || 0;\n    if (failures >= this.MAX_FAILURES) {\n      this.disabledDataTypes.add(dataType);\n      if (this.config.debug) {\n        console.warn(`[MiniSentry] ${dataType} 数据类型失败次数过多(${failures})，立即禁用`);\n      }\n      return false;\n    }\n    return true;\n  }\n  shouldSample() {\n    return Math.random() < (this.config.sampleRate || 1);\n  }\n  generateSessionId() {\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\n  }\n  buildApiUrl(dataType) {\n    let apiUrl = this.config.apiUrl;\n    if (!apiUrl.endsWith(\"/\")) {\n      apiUrl += \"/\";\n    }\n    return `${apiUrl}${dataType}`;\n  }\n  async sendWithFetch(apiUrl, jsonString, dataType) {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 1e4);\n      const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: jsonString,\n        keepalive: true,\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      this.failureCount.set(dataType, 0);\n      this.lastSuccessTime.set(dataType, Date.now());\n      this.disabledDataTypes.delete(dataType);\n    } catch (error) {\n      this.handleSendFailure(dataType, error, apiUrl, jsonString, false);\n    }\n  }\n  handleSendFailure(dataType, error, apiUrl, jsonString, fromSendBeacon = false) {\n    const currentFailures = this.failureCount.get(dataType) || 0;\n    if (fromSendBeacon) {\n      if (this.config.debug) {\n        console.warn(`[MiniSentry] sendBeacon ${dataType} 发送失败，但不计入失败次数: ${error.message}`);\n      }\n      return;\n    }\n    const newFailures = currentFailures + 1;\n    this.failureCount.set(dataType, newFailures);\n    if (this.config.debug) {\n      console.warn(`[MiniSentry] ${dataType} 数据发送失败 (${newFailures}/${this.MAX_FAILURES}): ${error.message}`);\n    }\n    if (newFailures >= this.MAX_FAILURES) {\n      this.disabledDataTypes.add(dataType);\n      console.error(`[MiniSentry] ${dataType} 数据发送已停止（连续失败${newFailures}次）`);\n      return;\n    }\n    this.sendWithBeacon(apiUrl, jsonString, dataType);\n  }\n  sendWithBeacon(apiUrl, jsonString, dataType) {\n    if (!navigator.sendBeacon) {\n      if (this.config.debug) {\n        console.warn(`[MiniSentry] sendBeacon 不支持，跳过 ${dataType} 数据发送`);\n      }\n      return;\n    }\n    try {\n      const blob = new Blob([jsonString], { type: \"application/json\" });\n      const queued = navigator.sendBeacon(apiUrl, blob);\n      if (!queued) {\n        const fallbackQueued = navigator.sendBeacon(apiUrl, jsonString);\n        if (!fallbackQueued) {\n          this.handleSendFailure(dataType, new Error(\"sendBeacon 队列已满或被拒绝\"), apiUrl, jsonString, true);\n        }\n      }\n    } catch (error) {\n      this.handleSendFailure(dataType, error, apiUrl, jsonString, true);\n    }\n  }\n  isAllDataTypesDisabled() {\n    const allTypes = [\"error\", \"performance\", \"behavior\"];\n    return allTypes.every((type) => this.disabledDataTypes.has(type));\n  }\n  resetFailureCountIfNeeded() {\n    const now = Date.now();\n    for (const [dataType, lastSuccess] of this.lastSuccessTime.entries()) {\n      if (now - lastSuccess > this.FAILURE_RESET_TIME) {\n        const currentFailures = this.failureCount.get(dataType) || 0;\n        if (currentFailures > 0) {\n          this.failureCount.set(dataType, Math.max(0, currentFailures - 1));\n          this.disabledDataTypes.delete(dataType);\n          if (this.config.debug) {\n            console.log(`[MiniSentry] ${dataType} 失败计数已重置，重新启用发送`);\n          }\n        }\n      }\n    }\n  }\n  recordCurrentPageStayTime(route) {\n    const now = Date.now();\n    if (this.isPageVisible) {\n      this.totalVisibleTime += now - this.visibleStartTime;\n    }\n    const stayTimeData = {\n      route,\n      totalTime: now - this.pageStartTime,\n      visibleTime: this.totalVisibleTime,\n      title: document.title\n    };\n    this.addBreadcrumb(\"user\", `Page stay time recorded`, \"info\", stayTimeData, \"auto\");\n  }\n  resetPageStayTime() {\n    const now = Date.now();\n    this.pageStartTime = now;\n    this.totalVisibleTime = 0;\n    this.visibleStartTime = now;\n    this.isPageVisible = !document.hidden;\n  }\n  initPageStayTimeTracking() {\n    document.addEventListener(\"visibilitychange\", () => {\n      const now = Date.now();\n      if (document.hidden) {\n        if (this.isPageVisible) {\n          this.totalVisibleTime += now - this.visibleStartTime;\n          this.isPageVisible = false;\n          this.addBreadcrumb(\"user\", \"Page became hidden\", \"info\", {\n            visibleTime: now - this.visibleStartTime,\n            totalVisibleTime: this.totalVisibleTime\n          }, \"auto\");\n        }\n      } else {\n        if (!this.isPageVisible) {\n          this.visibleStartTime = now;\n          this.isPageVisible = true;\n          this.addBreadcrumb(\"user\", \"Page became visible\", \"info\", void 0, \"auto\");\n        }\n      }\n    });\n    window.addEventListener(\"focus\", () => {\n      if (!this.isPageVisible) {\n        this.visibleStartTime = Date.now();\n        this.isPageVisible = true;\n        this.addBreadcrumb(\"user\", \"Page gained focus\", \"info\", void 0, \"auto\");\n      }\n    });\n    window.addEventListener(\"blur\", () => {\n      if (this.isPageVisible) {\n        this.totalVisibleTime += Date.now() - this.visibleStartTime;\n        this.isPageVisible = false;\n        this.addBreadcrumb(\"user\", \"Page lost focus\", \"info\", void 0, \"auto\");\n      }\n    });\n  }\n  initSPARouteMonitoring() {\n    this.addBreadcrumb(\"navigation\", `Initial route: ${this.currentRoute}`, \"info\", {\n      route: this.currentRoute,\n      title: document.title\n    }, \"auto\");\n    const originalPushState = history.pushState.bind(history);\n    const originalReplaceState = history.replaceState.bind(history);\n    history.pushState = (data, unused, url) => {\n      const result = originalPushState(data, unused, url);\n      this.handleRouteChange(\"push\", url?.toString() || location.href);\n      return result;\n    };\n    history.replaceState = (data, unused, url) => {\n      const result = originalReplaceState(data, unused, url);\n      this.handleRouteChange(\"replace\", url?.toString() || location.href);\n      return result;\n    };\n    window.addEventListener(\"popstate\", () => {\n      this.handleRouteChange(\"pop\", location.href);\n    });\n    window.addEventListener(\"hashchange\", (event) => {\n      this.handleRouteChange(\"hash\", event.newURL);\n    });\n  }\n  handleRouteChange(type, url) {\n    const newRoute = location.pathname + location.search + location.hash;\n    const oldRoute = this.currentRoute;\n    if (newRoute !== oldRoute) {\n      this.recordCurrentPageStayTime(oldRoute);\n      this.collectAndSendBehaviorData();\n      this.currentRoute = newRoute;\n      this.resetPageStayTime();\n      this.addBreadcrumb(\"navigation\", `Route ${type}: ${oldRoute} → ${newRoute}`, \"info\", {\n        type,\n        from: oldRoute,\n        to: newRoute,\n        title: document.title\n      }, \"auto\");\n    }\n  }\n  initErrorMonitoring() {\n    window.addEventListener(\"error\", (event) => {\n      if (event.target === window) {\n        const locationInfo = this.parseErrorStack(event.error || new Error(event.message));\n        const errorInfo = {\n          type: ErrorType.JS_ERROR,\n          message: event.message,\n          stack: event.error?.stack,\n          timestamp: Date.now(),\n          url: window.location.href,\n          projectId: this.config.projectId,\n          userAgent: navigator.userAgent,\n          breadcrumbs: [...this.errorBreadcrumbs],\n          captureType: \"auto\",\n          tags: this.mergeTags(),\n          // 正确的优先级 - 堆栈解析优先\n          filename: locationInfo.filename || event.filename,\n          jsFilename: locationInfo.jsFilename,\n          lineno: locationInfo.lineno || event.lineno,\n          colno: locationInfo.colno || event.colno\n        };\n        this.reportError(errorInfo);\n      }\n    });\n    window.addEventListener(\"unhandledrejection\", (event) => {\n      const error = event.reason;\n      const locationInfo = this.parseErrorStack(error instanceof Error ? error : new Error(String(error)));\n      const errorInfo = {\n        type: ErrorType.PROMISE_ERROR,\n        message: error?.message || String(error),\n        stack: error?.stack,\n        timestamp: Date.now(),\n        url: window.location.href,\n        projectId: this.config.projectId,\n        userAgent: navigator.userAgent,\n        breadcrumbs: [...this.errorBreadcrumbs],\n        captureType: \"auto\",\n        tags: this.mergeTags(),\n        filename: locationInfo.filename,\n        jsFilename: locationInfo.jsFilename,\n        lineno: locationInfo.lineno,\n        colno: locationInfo.colno\n      };\n      this.reportError(errorInfo);\n    });\n    window.addEventListener(\"error\", (event) => {\n      const target = event.target;\n      if (target && target !== window && target instanceof Element) {\n        const element = target;\n        const resourceError = {\n          type: ErrorType.RESOURCE_ERROR,\n          message: `Failed to load resource: ${element.src || element.href || \"unknown\"}`,\n          resourceType: element.tagName.toLowerCase(),\n          resourceUrl: element.src || element.href || \"\",\n          timestamp: Date.now(),\n          url: window.location.href,\n          projectId: this.config.projectId,\n          userAgent: navigator.userAgent,\n          breadcrumbs: [...this.errorBreadcrumbs],\n          elementInfo: {\n            tagName: element.tagName,\n            id: element.id || void 0\n          },\n          captureType: \"auto\",\n          tags: this.mergeTags()\n        };\n        this.reportError(resourceError);\n      }\n    }, true);\n    this.detectWhiteScreen();\n    this.initLongTaskMonitoring();\n    this.interceptFetch();\n    this.interceptXHR();\n  }\n  interceptXHR() {\n    const originalOpen = XMLHttpRequest.prototype.open;\n    const originalSend = XMLHttpRequest.prototype.send;\n    XMLHttpRequest.prototype.open = function(method, url, async, username, password) {\n      this._monitorData = {\n        method,\n        url: url.toString(),\n        startTime: Date.now()\n      };\n      return originalOpen.call(this, method, url, async === void 0 ? true : async, username, password);\n    };\n    XMLHttpRequest.prototype.send = function(body) {\n      const monitorData = this._monitorData;\n      if (!monitorData) return originalSend.call(this, body);\n      const monitor = window.monitor;\n      if (monitor) {\n        monitor.addBreadcrumb(\"http\", `XHR ${monitorData.method} ${monitorData.url}`, \"info\", {\n          url: monitorData.url,\n          method: monitorData.method\n        }, \"auto\");\n      }\n      this.addEventListener(\"loadend\", () => {\n        if (!monitor) return;\n        const duration = Date.now() - monitorData.startTime;\n        if (this.status >= 400) {\n          const httpError = {\n            type: ErrorType.HTTP_ERROR,\n            message: `XHR ${this.status}`,\n            timestamp: Date.now(),\n            url: window.location.href,\n            projectId: monitor.config.projectId,\n            userAgent: navigator.userAgent,\n            breadcrumbs: [...monitor.errorBreadcrumbs],\n            request: {\n              url: monitorData.url,\n              method: monitorData.method\n            },\n            response: {\n              status: this.status\n            },\n            duration,\n            captureType: \"auto\",\n            tags: monitor.mergeTags()\n          };\n          monitor.reportError(httpError);\n        }\n      });\n      return originalSend.call(this, body);\n    };\n  }\n  detectWhiteScreen() {\n    setTimeout(() => {\n      const hasContent = this.hasVisibleContent();\n      if (!hasContent) {\n        const errorInfo = {\n          type: ErrorType.JS_ERROR,\n          message: \"White screen detected - No visible content found\",\n          timestamp: Date.now(),\n          url: window.location.href,\n          projectId: this.config.projectId,\n          userAgent: navigator.userAgent,\n          breadcrumbs: [...this.errorBreadcrumbs],\n          captureType: \"auto\",\n          tags: this.mergeTags()\n        };\n        this.reportError(errorInfo);\n      }\n    }, 3e3);\n  }\n  hasVisibleContent() {\n    const body = document.body;\n    if (!body) return false;\n    const textContent = body.innerText?.trim();\n    if (textContent && textContent.length > 0) return true;\n    const images = body.querySelectorAll(\"img\");\n    for (const img of images) {\n      if (img.width > 0 && img.height > 0) return true;\n    }\n    const canvases = body.querySelectorAll(\"canvas\");\n    for (const canvas of canvases) {\n      if (canvas.width > 0 && canvas.height > 0) return true;\n    }\n    const svgs = body.querySelectorAll(\"svg\");\n    for (const svg of svgs) {\n      if (svg.getBoundingClientRect().width > 0) return true;\n    }\n    return false;\n  }\n  initLongTaskMonitoring() {\n    if (\"PerformanceObserver\" in window) {\n      try {\n        const observer = new PerformanceObserver((list) => {\n          list.getEntries().forEach((entry) => {\n            if (entry.duration > 50) {\n              this.addBreadcrumb(\n                \"performance\",\n                `Long task detected: ${Math.round(entry.duration)}ms`,\n                \"warning\",\n                {\n                  duration: Math.round(entry.duration),\n                  taskType: \"longtask\",\n                  startTime: Math.round(entry.startTime)\n                },\n                \"auto\"\n              );\n              if (entry.duration > 200) {\n                this.addBreadcrumb(\n                  \"performance\",\n                  `Severe blocking task: ${Math.round(entry.duration)}ms`,\n                  \"error\",\n                  {\n                    duration: Math.round(entry.duration),\n                    severity: \"high\"\n                  },\n                  \"auto\"\n                );\n              }\n            }\n          });\n        });\n        observer.observe({ entryTypes: [\"longtask\"] });\n      } catch (error) {\n        if (this.config.debug) {\n          console.warn(\"[MiniSentry] Long task monitoring not supported:\", error);\n        }\n      }\n    }\n  }\n  interceptFetch() {\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      const startTime = Date.now();\n      const [url, options = {}] = args;\n      this.addBreadcrumb(\"http\", `HTTP ${options.method || \"GET\"} ${url}`, \"info\", {\n        url: url.toString(),\n        method: options.method || \"GET\"\n      }, \"auto\");\n      try {\n        const response = await originalFetch(...args);\n        if (!response.ok) {\n          const httpError = {\n            type: ErrorType.HTTP_ERROR,\n            message: `HTTP ${response.status}`,\n            timestamp: Date.now(),\n            url: window.location.href,\n            projectId: this.config.projectId,\n            userAgent: navigator.userAgent,\n            breadcrumbs: [...this.errorBreadcrumbs],\n            request: {\n              url: url.toString(),\n              method: options.method || \"GET\"\n            },\n            response: {\n              status: response.status\n            },\n            duration: Date.now() - startTime,\n            captureType: \"auto\",\n            tags: this.mergeTags()\n          };\n          this.reportError(httpError);\n        }\n        return response;\n      } catch (error) {\n        const httpError = {\n          type: ErrorType.HTTP_ERROR,\n          message: `Network error: ${error.message}`,\n          stack: error.stack,\n          timestamp: Date.now(),\n          url: window.location.href,\n          projectId: this.config.projectId,\n          userAgent: navigator.userAgent,\n          breadcrumbs: [...this.errorBreadcrumbs],\n          request: {\n            url: url.toString(),\n            method: options.method || \"GET\"\n          },\n          duration: Date.now() - startTime,\n          captureType: \"auto\",\n          tags: this.mergeTags()\n        };\n        this.reportError(httpError);\n        throw error;\n      }\n    };\n  }\n  // 性能监控初始化 - 延长LCP稳定时间\n  initPerformanceMonitoring() {\n    if (document.readyState === \"loading\") {\n      window.addEventListener(\"load\", () => {\n        setTimeout(() => this.collectPerformanceData(), 15e3);\n      });\n    } else {\n      setTimeout(() => this.collectPerformanceData(), 15e3);\n    }\n    this.observeWebVitals();\n  }\n  // 完善的Web Vitals观察器 - 确保FCP和LCP完全独立\n  observeWebVitals() {\n    if (\"PerformanceObserver\" in window) {\n      try {\n        const fcpObserver = new PerformanceObserver((list) => {\n          const entries = list.getEntries();\n          for (const entry of entries) {\n            if (entry.name === \"first-contentful-paint\" && this.latestFcpValue === void 0) {\n              this.latestFcpValue = entry.startTime;\n              this.addBreadcrumb(\"performance\", `FCP: ${Math.round(entry.startTime)}ms`, \"info\", {\n                metric: \"fcp\",\n                value: Math.round(entry.startTime),\n                source: \"observer\"\n              }, \"auto\");\n              fcpObserver.disconnect();\n              break;\n            }\n          }\n        });\n        fcpObserver.observe({ entryTypes: [\"paint\"] });\n      } catch (error) {\n        if (this.config.debug) {\n          console.warn(\"[MiniSentry] FCP观察器初始化失败:\", error);\n        }\n      }\n      try {\n        let lcpStableCount = 0;\n        let lastLcpValue = 0;\n        const LCP_STABLE_THRESHOLD = 3;\n        this.lcpObserver = new PerformanceObserver((list) => {\n          const entries = list.getEntries();\n          if (entries.length > 0) {\n            const lcpEntry = entries[entries.length - 1];\n            const currentLcpValue = lcpEntry.startTime;\n            if (Math.abs(currentLcpValue - lastLcpValue) < 1) {\n              lcpStableCount++;\n            } else {\n              lcpStableCount = 0;\n              lastLcpValue = currentLcpValue;\n            }\n            this.latestLcpValue = currentLcpValue;\n            this.addBreadcrumb(\"performance\", `LCP: ${Math.round(currentLcpValue)}ms`, \"info\", {\n              metric: \"lcp\",\n              value: Math.round(currentLcpValue),\n              element: lcpEntry.element?.tagName,\n              size: lcpEntry.size,\n              source: \"observer\",\n              stable: lcpStableCount >= LCP_STABLE_THRESHOLD\n            }, \"auto\");\n            if (lcpStableCount >= LCP_STABLE_THRESHOLD && currentLcpValue > 1e3) {\n              this.finalizeLcpValue();\n            }\n          }\n        });\n        this.lcpObserver.observe({ entryTypes: [\"largest-contentful-paint\"] });\n      } catch (error) {\n        if (this.config.debug) {\n          console.warn(\"[MiniSentry] LCP观察器初始化失败:\", error);\n        }\n      }\n    }\n    this.setupLcpFinalization();\n  }\n  // 新增：主动确定LCP最终值的方法\n  finalizeLcpValue() {\n    if (this.latestLcpValue !== void 0 && this.lcpFinalValue === void 0) {\n      this.lcpFinalValue = this.latestLcpValue;\n      if (this.lcpObserver) {\n        this.lcpObserver.disconnect();\n        this.lcpObserver = void 0;\n      }\n    }\n  }\n  // 设置LCP最终确定机制 - 延长确定时间，添加用户交互触发\n  setupLcpFinalization() {\n    const finalizeLcp = () => {\n      if (this.latestLcpValue !== void 0 && this.lcpFinalValue === void 0) {\n        this.lcpFinalValue = this.latestLcpValue;\n        if (this.lcpObserver) {\n          this.lcpObserver.disconnect();\n          this.lcpObserver = void 0;\n        }\n      }\n    };\n    window.addEventListener(\"beforeunload\", finalizeLcp);\n    document.addEventListener(\"visibilitychange\", () => {\n      if (document.hidden) {\n        finalizeLcp();\n      }\n    });\n    setTimeout(() => {\n      finalizeLcp();\n    }, 2e4);\n    let userInteracted = false;\n    const handleUserInteraction = () => {\n      if (!userInteracted) {\n        userInteracted = true;\n        setTimeout(() => {\n          finalizeLcp();\n        }, 2e3);\n      }\n    };\n    document.addEventListener(\"click\", handleUserInteraction, { once: true });\n    document.addEventListener(\"keydown\", handleUserInteraction, { once: true });\n    document.addEventListener(\"scroll\", handleUserInteraction, { once: true });\n  }\n  getNavigationTiming() {\n    try {\n      const navigation = performance.getEntriesByType(\"navigation\")[0];\n      if (navigation) {\n        return {\n          domReady: Math.max(0, navigation.domContentLoadedEventEnd - navigation.fetchStart),\n          loadComplete: Math.max(0, navigation.loadEventEnd - navigation.fetchStart)\n        };\n      }\n    } catch (error) {\n    }\n    try {\n      const timing = performance.timing;\n      if (timing) {\n        return {\n          domReady: Math.max(0, timing.domContentLoadedEventEnd - timing.navigationStart),\n          loadComplete: Math.max(0, timing.loadEventEnd - timing.navigationStart)\n        };\n      }\n    } catch (error) {\n    }\n    return {\n      domReady: 0,\n      loadComplete: 0\n    };\n  }\n  // 准确获取Web Vitals数据 - 确保FCP和LCP完全独立，并添加TTFB\n  getWebVitals() {\n    const result = {};\n    const fcpValue = this.getFcpValue();\n    if (fcpValue !== void 0) {\n      result.fcp = fcpValue;\n    }\n    const lcpValue = this.getLcpValue();\n    if (lcpValue !== void 0) {\n      result.lcp = lcpValue;\n    }\n    const ttfbValue = this.getTtfbValue();\n    if (ttfbValue !== void 0) {\n      result.ttfb = ttfbValue;\n    }\n    return result;\n  }\n  // 新增：独立的TTFB获取方法\n  getTtfbValue() {\n    try {\n      const navigationEntries = performance.getEntriesByType(\"navigation\");\n      if (navigationEntries.length > 0) {\n        const navigation = navigationEntries[0];\n        if (navigation.responseStart && navigation.responseStart > 0) {\n          const ttfb = navigation.responseStart - navigation.fetchStart;\n          return ttfb;\n        }\n      }\n      if (performance.timing) {\n        const timing = performance.timing;\n        if (timing.responseStart && timing.navigationStart && timing.responseStart > timing.navigationStart) {\n          const ttfb = timing.responseStart - timing.navigationStart;\n          return ttfb;\n        }\n      }\n    } catch (error) {\n      if (this.config.debug) {\n        console.warn(\"[MiniSentry] 获取TTFB失败:\", error);\n      }\n    }\n    return void 0;\n  }\n  // 修复：独立的FCP获取方法 - 绝不使用LCP数据\n  getFcpValue() {\n    if (this.latestFcpValue !== void 0) {\n      return this.latestFcpValue;\n    }\n    try {\n      const paintEntries = performance.getEntriesByType(\"paint\");\n      const fcpEntry = paintEntries.find((entry) => entry.name === \"first-contentful-paint\");\n      if (fcpEntry && fcpEntry.startTime > 0) {\n        if (this.latestFcpValue === void 0) {\n          this.latestFcpValue = fcpEntry.startTime;\n        }\n        return fcpEntry.startTime;\n      }\n    } catch (error) {\n      if (this.config.debug) {\n        console.warn(\"[MiniSentry] 获取FCP失败:\", error);\n      }\n    }\n    return void 0;\n  }\n  // 修复：独立的LCP获取方法 - 优先信任观察器数据\n  getLcpValue() {\n    if (this.lcpFinalValue !== void 0) {\n      return this.lcpFinalValue;\n    }\n    if (this.latestLcpValue !== void 0) {\n      return this.latestLcpValue;\n    }\n    try {\n      const lcpEntries = performance.getEntriesByType(\"largest-contentful-paint\");\n      if (lcpEntries.length > 0) {\n        const latestLcp = lcpEntries[lcpEntries.length - 1];\n        if (latestLcp && latestLcp.startTime > 0) {\n          this.latestLcpValue = latestLcp.startTime;\n          return latestLcp.startTime;\n        }\n      }\n    } catch (error) {\n      if (this.config.debug) {\n        console.warn(\"[MiniSentry] 从API获取LCP失败:\", error);\n      }\n    }\n    return void 0;\n  }\n  initBehaviorMonitoring() {\n    this.addBreadcrumb(\"navigation\", `Page loaded: ${window.location.href}`, \"info\", {\n      title: document.title,\n      referrer: document.referrer,\n      timestamp: Date.now()\n    }, \"auto\");\n    document.addEventListener(\"click\", (event) => {\n      const target = event.target;\n      const elementInfo = {\n        tagName: target.tagName\n      };\n      if (target.id) {\n        elementInfo.id = target.id;\n      }\n      this.addBreadcrumb(\n        \"user\",\n        `Clicked on ${target.tagName}${target.id ? `#${target.id}` : \"\"}`,\n        \"info\",\n        elementInfo,\n        \"auto\"\n      );\n    }, true);\n    document.addEventListener(\"submit\", (event) => {\n      const form = event.target;\n      this.addBreadcrumb(\n        \"user\",\n        `Form submitted`,\n        \"info\",\n        {\n          action: form.action || \"current_page\",\n          method: form.method || \"GET\"\n        },\n        \"auto\"\n      );\n    }, true);\n    let inputTimer;\n    document.addEventListener(\"input\", (event) => {\n      const target = event.target;\n      clearTimeout(inputTimer);\n      inputTimer = window.setTimeout(() => {\n        this.addBreadcrumb(\n          \"user\",\n          `Input changed: ${target.tagName}(${target.type})`,\n          \"info\",\n          void 0,\n          \"auto\"\n        );\n      }, 1e3);\n    }, true);\n    document.addEventListener(\"keydown\", (event) => {\n      if (event.key === \"Enter\" || event.key === \"Escape\") {\n        this.addBreadcrumb(\n          \"user\",\n          `Key pressed: ${event.key}`,\n          \"info\",\n          void 0,\n          \"auto\"\n        );\n      }\n      if (event.ctrlKey && [\"s\", \"z\"].includes(event.key)) {\n        this.addBreadcrumb(\n          \"user\",\n          `Shortcut: Ctrl+${event.key.toUpperCase()}`,\n          \"info\",\n          void 0,\n          \"auto\"\n        );\n      }\n    });\n    let scrollTimer;\n    window.addEventListener(\"scroll\", () => {\n      clearTimeout(scrollTimer);\n      scrollTimer = window.setTimeout(() => {\n        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n        const scrollHeight = document.documentElement.scrollHeight;\n        const clientHeight = window.innerHeight;\n        const scrollPercent = Math.round(scrollTop / (scrollHeight - clientHeight) * 100);\n        if (scrollPercent % 25 === 0) {\n          this.addBreadcrumb(\n            \"user\",\n            `Scrolled to ${scrollPercent}%`,\n            \"info\",\n            { scrollPercent },\n            \"auto\"\n          );\n        }\n      }, 1e3);\n    });\n  }\n  // 新增：获取面包屑状态\n  getBreadcrumbStatus() {\n    return {\n      global: {\n        count: this.globalBreadcrumbs.length,\n        limit: this.BREADCRUMB_LIMITS.global,\n        latest: this.globalBreadcrumbs.slice(-3).map((b) => ({\n          category: b.category,\n          message: b.message,\n          timestamp: b.timestamp\n        }))\n      },\n      error: {\n        count: this.errorBreadcrumbs.length,\n        limit: this.BREADCRUMB_LIMITS.error,\n        latest: this.errorBreadcrumbs.slice(-3).map((b) => ({\n          category: b.category,\n          message: b.message,\n          timestamp: b.timestamp\n        }))\n      },\n      behavior: {\n        count: this.behaviorBreadcrumbs.length,\n        limit: this.BREADCRUMB_LIMITS.behavior,\n        latest: this.behaviorBreadcrumbs.slice(-3).map((b) => ({\n          category: b.category,\n          message: b.message,\n          timestamp: b.timestamp\n        }))\n      }\n    };\n  }\n  clearBreadcrumbs(type = \"all\") {\n    switch (type) {\n      case \"global\":\n        this.globalBreadcrumbs = [];\n        break;\n      case \"error\":\n        this.errorBreadcrumbs = [];\n        break;\n      case \"behavior\":\n        this.behaviorBreadcrumbs = [];\n        break;\n      case \"all\":\n        this.globalBreadcrumbs = [];\n        this.errorBreadcrumbs = [];\n        this.behaviorBreadcrumbs = [];\n        break;\n    }\n    if (this.config.debug) {\n      console.log(`[MiniSentry] ${type} 面包屑已清空`);\n    }\n  }\n  getSendStatus() {\n    return {\n      failureCount: Object.fromEntries(this.failureCount),\n      disabledDataTypes: Array.from(this.disabledDataTypes),\n      lastSuccessTime: Object.fromEntries(this.lastSuccessTime),\n      maxFailures: this.MAX_FAILURES\n    };\n  }\n  getStatus() {\n    return {\n      initialized: this.initialized,\n      sessionId: this.sessionId,\n      currentRoute: this.currentRoute,\n      breadcrumbStatus: this.getBreadcrumbStatus(),\n      pageStayTime: {\n        total: Date.now() - this.pageStartTime,\n        visible: this.totalVisibleTime + (this.isPageVisible ? Date.now() - this.visibleStartTime : 0)\n      },\n      sendStatus: this.getSendStatus()\n    };\n  }\n  resetSendStatus() {\n    this.failureCount.clear();\n    this.disabledDataTypes.clear();\n    this.lastSuccessTime.clear();\n    this.failureCount.set(\"error\", 0);\n    this.failureCount.set(\"performance\", 0);\n    this.failureCount.set(\"behavior\", 0);\n    if (this.reportTimer) {\n      clearInterval(this.reportTimer);\n    }\n    this.startBatchReporting();\n    if (this.config.debug) {\n      console.log(\"[MiniSentry] 发送状态已重置，定时器已重启\");\n    }\n  }\n  // 增强版调试方法 - 获取详细的Vitals状态\n  getVitalsStatus() {\n    return {\n      fcp: {\n        observed: this.latestFcpValue,\n        final: this.latestFcpValue,\n        // FCP通常不需要最终确定\n        available: this.latestFcpValue !== void 0,\n        source: this.latestFcpValue !== void 0 ? \"observer/api\" : \"none\"\n      },\n      lcp: {\n        observed: this.latestLcpValue,\n        final: this.lcpFinalValue,\n        available: this.latestLcpValue !== void 0 || this.lcpFinalValue !== void 0,\n        observerActive: this.lcpObserver !== void 0,\n        source: this.lcpFinalValue !== void 0 ? \"final\" : this.latestLcpValue !== void 0 ? \"observer\" : \"none\"\n      },\n      debug: {\n        // 验证是否存在错误赋值\n        possibleIncorrectAssignment: this.latestFcpValue !== void 0 && this.latestLcpValue !== void 0 && this.latestFcpValue === this.latestLcpValue,\n        // 检查Performance API原始数据\n        performanceAPI: {\n          paintEntries: typeof performance !== \"undefined\" ? performance.getEntriesByType(\"paint\").length : 0,\n          lcpEntries: typeof performance !== \"undefined\" ? performance.getEntriesByType(\"largest-contentful-paint\").length : 0\n        }\n      }\n    };\n  }\n  // 新增：调试方法 - 检查页面LCP情况\n  debugLcpSituation() {\n    console.log(\"[MiniSentry] LCP调试信息:\");\n    const images = document.querySelectorAll(\"img\");\n    const textBlocks = document.querySelectorAll(\"h1, h2, h3, p, div\");\n    console.log(`  页面图片数量: ${images.length}`);\n    console.log(`  页面文本块数量: ${textBlocks.length}`);\n    const allElements = document.querySelectorAll(\"*\");\n    const elementSizes = Array.from(allElements).map((el) => {\n      const rect = el.getBoundingClientRect();\n      return {\n        element: el.tagName,\n        size: rect.width * rect.height,\n        width: rect.width,\n        height: rect.height,\n        id: el.id,\n        className: el.className\n      };\n    }).filter((item) => item.size > 0).sort((a, b) => b.size - a.size).slice(0, 5);\n    console.log(\"  最大的5个元素:\", elementSizes);\n    const lcpEntries = performance.getEntriesByType(\"largest-contentful-paint\");\n    console.log(`  Performance API中的LCP条目数: ${lcpEntries.length}`);\n    if (lcpEntries.length > 0) {\n      const latest = lcpEntries[lcpEntries.length - 1];\n      console.log(`  最新LCP值: ${Math.round(latest.startTime)}ms`);\n      console.log(`  LCP元素:`, latest.element);\n    }\n    console.log(\"  SDK内部状态:\", this.getVitalsStatus());\n  }\n  // 修复：销毁时清理观察器\n  destroy() {\n    this.initialized = false;\n    if (this.reportTimer) {\n      clearInterval(this.reportTimer);\n    }\n    if (this.lcpObserver) {\n      this.lcpObserver.disconnect();\n      this.lcpObserver = void 0;\n    }\n    if (this.latestLcpValue !== void 0 && this.lcpFinalValue === void 0) {\n      this.lcpFinalValue = this.latestLcpValue;\n    }\n    this.collectAndSendBehaviorData();\n    this.globalBreadcrumbs = [];\n    this.errorBreadcrumbs = [];\n    this.behaviorBreadcrumbs = [];\n    this.failureCount.clear();\n    this.disabledDataTypes.clear();\n    this.lastSuccessTime.clear();\n    if (this.config.debug) {\n      console.log(\"[MiniSentry] Monitor已销毁\");\n    }\n  }\n}\nclass SourceMapUploader {\n  constructor(config) {\n    this.config = {\n      timeout: 3e4,\n      retries: 3,\n      debug: false,\n      ...config\n    };\n  }\n  /**\n   * 上传sourcemap文件到后端\n   */\n  async upload(request) {\n    const { retries = 3 } = this.config;\n    let lastError = null;\n    for (let attempt = 1; attempt <= retries; attempt++) {\n      try {\n        this.log(`开始上传sourcemap文件，尝试第 ${attempt} 次...`);\n        const response = await this.makeRequest(request);\n        this.log(`上传成功！上传了 ${request.files.length} 个文件`);\n        return response;\n      } catch (error) {\n        lastError = error;\n        this.log(`上传失败 (${attempt}/${retries}): ${lastError.message}`);\n        if (attempt < retries) {\n          const delay = Math.pow(2, attempt - 1) * 1e3;\n          this.log(`等待 ${delay}ms 后重试...`);\n          await this.sleep(delay);\n        }\n      }\n    }\n    throw new Error(`上传sourcemap失败，已重试 ${retries} 次。最后错误: ${lastError?.message}`);\n  }\n  /**\n   * 发送HTTP请求（浏览器环境实现）\n   */\n  async makeRequest(request) {\n    const { apiUrl, apiKey, timeout = 3e4 } = this.config;\n    const fileHashes = {};\n    for (const file of request.files) {\n      try {\n        const hash = await this.calculateFileHash(file.content);\n        fileHashes[file.jsFilename] = hash;\n      } catch (error) {\n        this.log(`计算文件哈希失败: ${file.jsFilename}, ${error}`);\n        fileHashes[file.jsFilename] = \"hash_failed\";\n      }\n    }\n    const formData = new FormData();\n    formData.append(\"projectId\", request.projectId);\n    formData.append(\"timestamp\", request.timestamp.toString());\n    if (request.version) {\n      formData.append(\"version\", request.version);\n    }\n    const buildVersion = this.generateBuildVersion();\n    formData.append(\"buildVersion\", buildVersion);\n    formData.append(\"fileHashes\", JSON.stringify(fileHashes));\n    request.files.forEach((file) => {\n      console.log(\"处理文件:\", file);\n      const blob = new Blob([file.content], { type: \"application/json\" });\n      formData.append(\"files\", blob, file.filename);\n      formData.append(\"jsFilenames\", file.jsFilename);\n    });\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\n    try {\n      const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${apiKey}`\n          // 不要设置Content-Type，让浏览器自动设置包含boundary的multipart/form-data\n        },\n        body: formData,\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${errorText}`);\n      }\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      clearTimeout(timeoutId);\n      if (error instanceof Error) {\n        if (error.name === \"AbortError\") {\n          throw new Error(`请求超时 (${timeout}ms)`);\n        }\n        throw error;\n      }\n      throw new Error(\"未知错误\");\n    }\n  }\n  /**\n   * 验证sourcemap文件格式\n   */\n  validateSourceMap(content) {\n    try {\n      const parsed = JSON.parse(content);\n      return parsed.version === 3 && Array.isArray(parsed.sources) && typeof parsed.mappings === \"string\";\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * 压缩sourcemap内容（移除不必要的字段）\n   */\n  compressSourceMap(content) {\n    try {\n      const parsed = JSON.parse(content);\n      const compressed = {\n        version: parsed.version,\n        sources: parsed.sources,\n        names: parsed.names,\n        mappings: parsed.mappings,\n        sourcesContent: parsed.sourcesContent\n      };\n      return JSON.stringify(compressed);\n    } catch {\n      return content;\n    }\n  }\n  /**\n   * 从文件名提取对应的JS文件名\n   */\n  getJsFilename(sourceMapFilename) {\n    const jsFileWithPath = sourceMapFilename.replace(/\\.map$/, \"\");\n    const pathParts = jsFileWithPath.split(\"/\");\n    return pathParts[pathParts.length - 1];\n  }\n  /**\n   * 计算文件内容的SHA-256哈希\n   */\n  async calculateFileHash(content) {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(content);\n    const hashBuffer = await crypto.subtle.digest(\"SHA-256\", data);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n  /**\n   * 生成构建版本号\n   */\n  generateBuildVersion() {\n    const now = /* @__PURE__ */ new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const day = String(now.getDate()).padStart(2, \"0\");\n    const hours = String(now.getHours()).padStart(2, \"0\");\n    const minutes = String(now.getMinutes()).padStart(2, \"0\");\n    const seconds = String(now.getSeconds()).padStart(2, \"0\");\n    return `${year}${month}${day}${hours}${minutes}${seconds}`;\n  }\n  /**\n   * 睡眠指定毫秒数\n   */\n  sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n  /**\n   * 调试日志\n   */\n  log(message) {\n    if (this.config.debug) {\n      console.log(`[SourceMapUploader] ${message}`);\n    }\n  }\n}\nclass NodeSourceMapUploader extends SourceMapUploader {\n  /**\n   * Node.js环境下的HTTP请求实现\n   * 注意：此类仅在Node.js环境（webpack插件）中使用\n   * 浏览器环境的webpack打包会排除此类\n   */\n  async makeRequest(request) {\n    if (typeof window !== \"undefined\") {\n      throw new Error(\"NodeSourceMapUploader只能在Node.js环境中使用\");\n    }\n    return this.makeNodeRequest(request);\n  }\n  /**\n   * 私有方法：Node.js请求实现\n   * 这个方法只会在Node.js环境中被调用\n   */\n  async makeNodeRequest(request) {\n    const https = require(\"https\");\n    const http = require(\"http\");\n    const { URL } = require(\"url\");\n    const FormData2 = require(\"form-data\");\n    const { apiUrl, apiKey, timeout = 3e4 } = this.config;\n    const url = new URL(apiUrl);\n    const isHttps = url.protocol === \"https:\";\n    const fileHashes = {};\n    for (const file of request.files) {\n      const crypto2 = require(\"crypto\");\n      const hash = crypto2.createHash(\"sha256\").update(file.content).digest(\"hex\");\n      fileHashes[file.jsFilename] = hash;\n    }\n    return new Promise((resolve, reject) => {\n      const form = new FormData2();\n      form.append(\"projectId\", request.projectId);\n      form.append(\"timestamp\", request.timestamp.toString());\n      if (request.version) {\n        form.append(\"version\", request.version);\n      }\n      const buildVersion = this.generateBuildVersion();\n      form.append(\"buildVersion\", buildVersion);\n      form.append(\"fileHashes\", JSON.stringify(fileHashes));\n      request.files.forEach((file) => {\n        form.append(\"files\", Buffer.from(file.content), {\n          filename: file.filename,\n          contentType: \"application/json\"\n        });\n        form.append(\"jsFilenames\", file.jsFilename);\n      });\n      const options = {\n        hostname: url.hostname,\n        port: url.port || (isHttps ? 443 : 80),\n        path: url.pathname + url.search,\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${apiKey}`,\n          ...form.getHeaders()\n        },\n        timeout\n      };\n      const client = isHttps ? https : http;\n      const req = client.request(options, (res) => {\n        let data = \"\";\n        res.on(\"data\", (chunk) => {\n          data += chunk;\n        });\n        res.on(\"end\", () => {\n          if (res.statusCode && res.statusCode >= 200 && res.statusCode < 300) {\n            try {\n              const result = JSON.parse(data);\n              resolve(result);\n            } catch (error) {\n              reject(new Error(\"响应解析失败\"));\n            }\n          } else {\n            reject(new Error(`HTTP ${res.statusCode}: ${data}`));\n          }\n        });\n      });\n      req.on(\"error\", (error) => {\n        reject(error);\n      });\n      req.on(\"timeout\", () => {\n        req.destroy();\n        reject(new Error(`请求超时 (${timeout}ms)`));\n      });\n      form.pipe(req);\n    });\n  }\n}\nvar jsxRuntime = { exports: {} };\nvar reactJsxRuntime_production = {};\nvar hasRequiredReactJsxRuntime_production;\nfunction requireReactJsxRuntime_production() {\n  if (hasRequiredReactJsxRuntime_production) return reactJsxRuntime_production;\n  hasRequiredReactJsxRuntime_production = 1;\n  var REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"), REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\n  function jsxProd(type, config, maybeKey) {\n    var key = null;\n    void 0 !== maybeKey && (key = \"\" + maybeKey);\n    void 0 !== config.key && (key = \"\" + config.key);\n    if (\"key\" in config) {\n      maybeKey = {};\n      for (var propName in config)\n        \"key\" !== propName && (maybeKey[propName] = config[propName]);\n    } else maybeKey = config;\n    config = maybeKey.ref;\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type,\n      key,\n      ref: void 0 !== config ? config : null,\n      props: maybeKey\n    };\n  }\n  reactJsxRuntime_production.Fragment = REACT_FRAGMENT_TYPE;\n  reactJsxRuntime_production.jsx = jsxProd;\n  reactJsxRuntime_production.jsxs = jsxProd;\n  return reactJsxRuntime_production;\n}\nvar reactJsxRuntime_development = {};\nvar hasRequiredReactJsxRuntime_development;\nfunction requireReactJsxRuntime_development() {\n  if (hasRequiredReactJsxRuntime_development) return reactJsxRuntime_development;\n  hasRequiredReactJsxRuntime_development = 1;\n  \"production\" !== process.env.NODE_ENV && function() {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE ? null : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\"number\" === typeof type.tag && console.error(\n          \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n        ), type.$$typeof) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type || (type = innerType.displayName || innerType.name || \"\", type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\");\n            return type;\n          case REACT_MEMO_TYPE:\n            return innerType = type.displayName || null, null !== innerType ? innerType : getComponentNameFromType(type.type) || \"Memo\";\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {\n            }\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = false;\n      } catch (e) {\n        JSCompiler_inline_result = true;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 = \"function\" === typeof Symbol && Symbol.toStringTag && value[Symbol.toStringTag] || value.constructor.name || \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\"object\" === typeof type && null !== type && type.$$typeof === REACT_LAZY_TYPE)\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return false;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown || (specialPropKeyWarningShown = true, console.error(\n          \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n          displayName\n        ));\n      }\n      warnAboutAccessingKey.isReactWarning = true;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: true\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] || (didWarnAboutElementRef[componentName] = true, console.error(\n        \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n      ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, self, source, owner, props, debugStack, debugTask) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type,\n        key,\n        props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null) ? Object.defineProperty(type, \"ref\", {\n        enumerable: false,\n        get: elementRefGetterWithDeprecationWarning\n      }) : Object.defineProperty(type, \"ref\", { enumerable: false, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: false,\n        enumerable: false,\n        writable: true,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: false,\n        enumerable: false,\n        writable: true,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: false,\n        enumerable: false,\n        writable: true,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: false,\n        enumerable: false,\n        writable: true,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(type, config, maybeKey, isStaticChildren, source, self, debugStack, debugTask) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (isStaticChildren = 0; isStaticChildren < children.length; isStaticChildren++)\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function(k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren = 0 < keys.length ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\" : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] || (keys = 0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\", console.error(\n          'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n          isStaticChildren,\n          children,\n          keys,\n          children\n        ), didWarnAboutKeySpread[children + isStaticChildren] = true);\n      }\n      children = null;\n      void 0 !== maybeKey && (checkKeyStringCoercion(maybeKey), children = \"\" + maybeKey);\n      hasValidKey(config) && (checkKeyStringCoercion(config.key), children = \"\" + config.key);\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children && defineKeyPropWarningGetter(\n        maybeKey,\n        \"function\" === typeof type ? type.displayName || type.name || \"Unknown\" : type\n      );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node && null !== node && node.$$typeof === REACT_ELEMENT_TYPE && node._store && (node._store.validated = 1);\n    }\n    var React = require$$0, REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"), REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"), REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"), REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"), REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"), REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"), REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"), REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"), REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"), REACT_MEMO_TYPE = Symbol.for(\"react.memo\"), REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"), REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"), REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"), ReactSharedInternals = React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, hasOwnProperty = Object.prototype.hasOwnProperty, isArrayImpl = Array.isArray, createTask = console.createTask ? console.createTask : function() {\n      return null;\n    };\n    React = {\n      react_stack_bottom_frame: function(callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    reactJsxRuntime_development.Fragment = REACT_FRAGMENT_TYPE;\n    reactJsxRuntime_development.jsx = function(type, config, maybeKey, source, self) {\n      var trackActualOwner = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        false,\n        source,\n        self,\n        trackActualOwner ? Error(\"react-stack-top-frame\") : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    reactJsxRuntime_development.jsxs = function(type, config, maybeKey, source, self) {\n      var trackActualOwner = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        true,\n        source,\n        self,\n        trackActualOwner ? Error(\"react-stack-top-frame\") : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  }();\n  return reactJsxRuntime_development;\n}\nvar hasRequiredJsxRuntime;\nfunction requireJsxRuntime() {\n  if (hasRequiredJsxRuntime) return jsxRuntime.exports;\n  hasRequiredJsxRuntime = 1;\n  if (process.env.NODE_ENV === \"production\") {\n    jsxRuntime.exports = requireReactJsxRuntime_production();\n  } else {\n    jsxRuntime.exports = requireReactJsxRuntime_development();\n  }\n  return jsxRuntime.exports;\n}\nvar jsxRuntimeExports = requireJsxRuntime();\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n  componentDidCatch(error, errorInfo) {\n    const { onError, projectId, tags } = this.props;\n    if (onError) {\n      const errorData = {\n        type: ErrorType.REACT_ERROR,\n        message: error.message,\n        stack: error.stack,\n        timestamp: Date.now(),\n        url: window.location.href,\n        projectId,\n        userAgent: navigator.userAgent,\n        breadcrumbs: [],\n        // React错误边界中没有面包屑上下文\n        captureType: \"auto\",\n        tags: this.cleanTags(tags),\n        //  React错误边界中通常无法获取精确的文件位置信息\n        // 这些字段保持undefined，让Monitor的parseErrorStack来处理\n        filename: void 0,\n        jsFilename: void 0,\n        lineno: void 0,\n        colno: void 0\n      };\n      onError(errorData);\n    }\n    console.error(\"ErrorBoundary caught an error:\", error, errorInfo);\n  }\n  // 简化的标签清理方法（与Monitor.ts保持一致）\n  cleanTags(tags) {\n    if (!tags) return void 0;\n    const cleaned = {};\n    let fieldCount = 0;\n    for (const [key, value] of Object.entries(tags)) {\n      if (fieldCount >= 20 || key.length > 50) continue;\n      if (value != null) {\n        const valueStr = typeof value === \"object\" ? JSON.stringify(value) : String(value);\n        cleaned[key] = valueStr.length > 500 ? valueStr.slice(0, 500) + \"...\" : value;\n        fieldCount++;\n      }\n    }\n    return fieldCount > 0 ? cleaned : void 0;\n  }\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback || /* @__PURE__ */ jsxRuntimeExports.jsxs(\"div\", { style: {\n        padding: \"20px\",\n        textAlign: \"center\",\n        color: \"#666\"\n      }, children: [\n        /* @__PURE__ */ jsxRuntimeExports.jsx(\"h2\", { children: \"抱歉，页面出现了错误\" }),\n        /* @__PURE__ */ jsxRuntimeExports.jsx(\"p\", { children: \"我们已经记录了这个问题，请稍后重试。\" }),\n        /* @__PURE__ */ jsxRuntimeExports.jsx(\n          \"button\",\n          {\n            onClick: () => window.location.reload(),\n            style: {\n              padding: \"8px 16px\",\n              backgroundColor: \"#1890ff\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            },\n            children: \"刷新页面\"\n          }\n        )\n      ] });\n    }\n    return this.props.children;\n  }\n}\nconst MiniSentrySDK = {\n  Monitor,\n  ErrorBoundary,\n  SourceMapUploader,\n  NodeSourceMapUploader,\n  createMonitor: (config) => new Monitor(config),\n  createUploader: (config) => {\n    const UploaderClass = typeof window !== \"undefined\" ? SourceMapUploader : NodeSourceMapUploader;\n    return new UploaderClass(config);\n  },\n  VERSION: \"1.1.44\"\n};\nconst SDK = MiniSentrySDK;\nconst VERSION = \"1.1.44\";\nfunction createMonitor(config) {\n  return new Monitor(config);\n}\nfunction createUploader(config) {\n  const UploaderClass = typeof window !== \"undefined\" ? SourceMapUploader : NodeSourceMapUploader;\n  return new UploaderClass(config);\n}\nif (typeof window !== \"undefined\") {\n  window.MiniSentrySDK = MiniSentrySDK;\n}\nexport {\n  DataType,\n  ErrorBoundary,\n  ErrorType,\n  Monitor,\n  NodeSourceMapUploader,\n  SDK,\n  SourceMapUploader,\n  VERSION,\n  createMonitor,\n  createUploader,\n  Monitor as default\n};\n"]}